----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 2:16:42 AM
Message: HandlingInstanceID: 7168caf8-5a93-4725-9d4d-372b80c85b58
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 10:16:42
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Process(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Process(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeProcess(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 2:16:42 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-13-129694257740642242
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-13-129694257740642242
ProcessId: 4764
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:3408
Extended Properties: 
    ProcessId=4764
    LogicalOperationStack=
    ThreadId=12
    DateTime=2011-12-27T02:16:42.3444006Z
    Timestamp=13128029256
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Extensions\Exception Handling\ServiceErrorHandler.cs:line 32
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 2:18:54 AM
Message: HandlingInstanceID: cca425c8-ade4-409c-9615-8c14027f8634
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 10:18:54
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Process(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Process(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeProcess(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 2:18:54 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-13-129694257740642242
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-13-129694257740642242
ProcessId: 4764
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:6204
Extended Properties: 
    ProcessId=4764
    LogicalOperationStack=
    ThreadId=14
    DateTime=2011-12-27T02:18:54.5644605Z
    Timestamp=13488664129
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Extensions\Exception Handling\ServiceErrorHandler.cs:line 32
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 2:19:43 AM
Message: HandlingInstanceID: c127847d-7f31-4188-b914-169ec2d45715
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 10:19:43
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Process(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Process(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeProcess(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 2:19:43 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-14-129694259787828188
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-14-129694259787828188
ProcessId: 4764
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:6312
Extended Properties: 
    ProcessId=4764
    LogicalOperationStack=
    ThreadId=39
    DateTime=2011-12-27T02:19:43.1428570Z
    Timestamp=13621163443
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Extensions\Exception Handling\ServiceErrorHandler.cs:line 32
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 2:20:27 AM
Message: HandlingInstanceID: 5a10503c-1caf-45ed-a48d-c64c6f819193
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 10:20:27
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Process(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Process(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeProcess(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 2:20:27 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-15-129694260212701220
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-15-129694260212701220
ProcessId: 4764
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:7992
Extended Properties: 
    ProcessId=4764
    LogicalOperationStack=
    ThreadId=44
    DateTime=2011-12-27T02:20:27.0834545Z
    Timestamp=13741011441
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Extensions\Exception Handling\ServiceErrorHandler.cs:line 32
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 6:20:18 AM
Message: HandlingInstanceID: 1e1a6962-8cd9-47ee-94c2-387ab5696eb6
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 14:20:18
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Process(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Process(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeProcess(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 6:20:18 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-1-129694372529524460
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-1-129694372529524460
ProcessId: 5292
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:4136
Extended Properties: 
    ProcessId=5292
    LogicalOperationStack=
    ThreadId=41
    DateTime=2011-12-27T06:20:18.1431439Z
    Timestamp=12606524581
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Extensions\Exception Handling\ServiceErrorHandler.cs:line 32
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 6:20:49 AM
Message: HandlingInstanceID: cffa8a46-7a56-4402-8d6e-5473b1ba86a5
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 14:20:49
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Process(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Process(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeProcess(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 6:20:49 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-2-129694404230730120
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-2-129694404230730120
ProcessId: 6492
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:7360
Extended Properties: 
    ProcessId=6492
    LogicalOperationStack=
    ThreadId=12
    DateTime=2011-12-27T06:20:49.9278425Z
    Timestamp=12693217522
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Extensions\Exception Handling\ServiceErrorHandler.cs:line 32
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 8:02:16 AM
Message: HandlingInstanceID: 02b56d7d-8548-42f4-bc6c-c527e7bca618
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 16:02:16
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 8:02:16 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-5-129694464780302686
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-5-129694464780302686
ProcessId: 6304
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:2120
Extended Properties: 
    ProcessId=6304
    LogicalOperationStack=
    ThreadId=5
    DateTime=2011-12-27T08:02:16.5117467Z
    Timestamp=29294585510
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 8:04:50 AM
Message: HandlingInstanceID: 54cb7f79-3002-42e4-ba5d-a65d580231a9
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 16:04:50
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 8:04:50 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-7-129694466553145033
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-7-129694466553145033
ProcessId: 6304
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:6220
Extended Properties: 
    ProcessId=6304
    LogicalOperationStack=
    ThreadId=13
    DateTime=2011-12-27T08:04:50.8645384Z
    Timestamp=29715555444
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 8:13:55 AM
Message: HandlingInstanceID: 13dc4401-6658-4fc6-8f97-ba3cb5125949
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 16:13:55
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 8:13:55 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ProcessId: 6304
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:3508
Extended Properties: 
    ProcessId=6304
    LogicalOperationStack=
    ThreadId=20
    DateTime=2011-12-27T08:13:55.3351220Z
    Timestamp=31200609986
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 8:15:42 AM
Message: HandlingInstanceID: bdfe8bbd-33c3-4919-bd72-625598cb5e12
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 16:15:42
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 8:15:42 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ProcessId: 6304
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:3600
Extended Properties: 
    ProcessId=6304
    LogicalOperationStack=
    ThreadId=11
    DateTime=2011-12-27T08:15:42.9912151Z
    Timestamp=31494244012
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 8:16:50 AM
Message: HandlingInstanceID: 8923d831-c6c3-4ce5-92c6-cef824753977
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 16:16:50
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 8:16:50 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ProcessId: 6304
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:348
Extended Properties: 
    ProcessId=6304
    LogicalOperationStack=
    ThreadId=16
    DateTime=2011-12-27T08:16:50.4922588Z
    Timestamp=31678354386
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 8:16:52 AM
Message: HandlingInstanceID: 49dc837e-4ae5-4f7b-b086-e6ee8dc8a7bf
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 16:16:52
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 8:16:52 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ProcessId: 6304
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:348
Extended Properties: 
    ProcessId=6304
    LogicalOperationStack=
    ThreadId=16
    DateTime=2011-12-27T08:16:52.2325264Z
    Timestamp=31683100612
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 8:16:52 AM
Message: HandlingInstanceID: 07bb7590-87d4-44e8-8d45-25b24cd26fad
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 16:16:52
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 8:16:52 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ProcessId: 6304
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:6764
Extended Properties: 
    ProcessId=6304
    LogicalOperationStack=
    ThreadId=28
    DateTime=2011-12-27T08:16:52.7755574Z
    Timestamp=31684581785
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 8:16:53 AM
Message: HandlingInstanceID: 0d13bee4-84be-46bd-b5f1-9f8429fd26b5
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 16:16:53
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 8:16:53 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ProcessId: 6304
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:7216
Extended Properties: 
    ProcessId=6304
    LogicalOperationStack=
    ThreadId=37
    DateTime=2011-12-27T08:16:53.2065821Z
    Timestamp=31685759623
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 8:16:53 AM
Message: HandlingInstanceID: e539324a-ec93-4452-8214-516644437fe0
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 16:16:53
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 8:16:53 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ProcessId: 6304
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:7216
Extended Properties: 
    ProcessId=6304
    LogicalOperationStack=
    ThreadId=37
    DateTime=2011-12-27T08:16:53.6226059Z
    Timestamp=31686893472
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 8:16:54 AM
Message: HandlingInstanceID: d3a0a51c-b866-4b3e-ba77-b6a2bc2af170
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 16:16:54
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 8:16:54 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ProcessId: 6304
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:7216
Extended Properties: 
    ProcessId=6304
    LogicalOperationStack=
    ThreadId=37
    DateTime=2011-12-27T08:16:54.0556306Z
    Timestamp=31688075254
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 8:17:10 AM
Message: HandlingInstanceID: bc4888e9-5304-4a3f-b7e7-6e4a19c81431
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 16:17:10
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 8:17:10 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ProcessId: 6304
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:7028
Extended Properties: 
    ProcessId=6304
    LogicalOperationStack=
    ThreadId=39
    DateTime=2011-12-27T08:17:10.9246701Z
    Timestamp=31734085978
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 8:17:28 AM
Message: HandlingInstanceID: 5ff67447-143e-47be-8845-759bc5fa0c5b
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 16:17:28
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 8:17:28 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-11-129694469750688631
ProcessId: 6304
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:5840
Extended Properties: 
    ProcessId=6304
    LogicalOperationStack=
    ThreadId=40
    DateTime=2011-12-27T08:17:28.8088640Z
    Timestamp=31782864094
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 8:23:11 AM
Message: HandlingInstanceID: be01fe7d-dcd5-4f01-8250-92fabd4e4da9
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 16:23:11
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 8:23:11 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-14-129694477641937606
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-14-129694477641937606
ProcessId: 6304
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:6700
Extended Properties: 
    ProcessId=6304
    LogicalOperationStack=
    ThreadId=30
    DateTime=2011-12-27T08:23:11.8116743Z
    Timestamp=32718412497
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 12/27/2011 11:38:55 AM
Message: HandlingInstanceID: 470d8df5-1ffd-4d0e-8fed-2dd7c835d7e8
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
12/27/2011 19:38:55
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[ID:02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 33
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 23
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Services\Orders\Service\OrdersService.cs:line 22
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 12/27/2011 11:38:55 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-2-129694589345658430
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-2-129694589345658430
ProcessId: 3936
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:4636
Extended Properties: 
    ProcessId=3936
    LogicalOperationStack=
    ThreadId=24
    DateTime=2011-12-27T11:38:55.6127498Z
    Timestamp=18597102459
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 1/3/2012 2:15:58 AM
Message: HandlingInstanceID: 8e1cfd7d-810f-40dd-bff7-fd48aa464c3a
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
01/03/2012 10:15:58
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[ID:02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 26
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 17
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Services\Orders\Service\OrdersService.cs:line 19
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 1/3/2012 2:15:58 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-4-129700305573456131
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-4-129700305573456131
ProcessId: 3984
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:7200
Extended Properties: 
    ProcessId=3984
    LogicalOperationStack=
    ThreadId=30
    DateTime=2012-01-03T02:15:58.1086568Z
    Timestamp=21176305007
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 1/3/2012 2:16:48 AM
Message: HandlingInstanceID: 589792b3-d04f-4ad6-b9c5-e5a389739375
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
01/03/2012 10:16:48
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[ID:02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 26
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 17
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Services\Orders\Service\OrdersService.cs:line 19
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 1/3/2012 2:16:48 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-4-129700305573456131
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-4-129700305573456131
ProcessId: 3984
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:7668
Extended Properties: 
    ProcessId=3984
    LogicalOperationStack=
    ThreadId=24
    DateTime=2012-01-03T02:16:48.0702719Z
    Timestamp=21312591925
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 1/3/2012 2:19:53 AM
Message: HandlingInstanceID: f240c52a-7455-4294-872b-0001f323b7c9
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
01/03/2012 10:19:53
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[ID:02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 26
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 17
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Services\Orders\Service\OrdersService.cs:line 19
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 1/3/2012 2:19:53 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-5-129700307893156221
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-5-129700307893156221
ProcessId: 3984
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:6044
Extended Properties: 
    ProcessId=3984
    LogicalOperationStack=
    ThreadId=24
    DateTime=2012-01-03T02:19:53.8198667Z
    Timestamp=21819213811
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 1/3/2012 2:23:52 AM
Message: HandlingInstanceID: b78ced36-4199-4fe8-855c-7ea8b02c1736
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
01/03/2012 10:23:52
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[ID:02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 26
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 17
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Services\Orders\Service\OrdersService.cs:line 19
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 1/3/2012 2:23:52 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=a20767533a162583
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-8-129700310255420189
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-8-129700310255420189
ProcessId: 3984
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:6164
Extended Properties: 
    ProcessId=3984
    LogicalOperationStack=
    ThreadId=27
    DateTime=2012-01-03T02:23:52.7184114Z
    Timestamp=22470813275
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FormattedTextWriterTraceListener.cs:line 195
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\FlatFileTraceListener.cs:line 210
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\TraceListeners\TraceListenerWrapper.cs:line 92
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogSource.cs:line 180
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 557
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0() in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 764
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LoggingUpdateCoordinator.cs:line 112
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\Logging\Src\Logging\LogWriterImpl.cs:line 742
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 116
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\Logging\LoggingExceptionHandler.cs:line 86
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 133
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyEntry.cs:line 87
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicyImpl.cs:line 84
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName) in D:\iConnect.NET\SZ-IC-R2-TFS10\iConnect44\Enterprise Library 50\Blocks\ExceptionHandling\Src\ExceptionHandling\ExceptionPolicy.cs:line 56
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 1/3/2012 4:17:55 AM
Message: HandlingInstanceID: 0c0ca290-5e94-4d1f-b424-951bbddec0b4
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
01/03/2012 12:17:54
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[ID:02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 26
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 17
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Services\Orders\Service\OrdersService.cs:line 19
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 1/3/2012 4:17:54 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-2-129700378472527561
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-2-129700378472527561
ProcessId: 5264
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:5704
Extended Properties: 
    ProcessId=5264
    LogicalOperationStack=
    ThreadId=12
    DateTime=2012-01-03T04:17:55.0131753Z
    Timestamp=11722689939
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0()
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName)
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 1/3/2012 4:19:13 AM
Message: HandlingInstanceID: 9ca59a24-4ca6-47e5-a355-92f6d0d55efc
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
01/03/2012 12:19:13
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[ID:02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 26
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 17
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Services\Orders\Service\OrdersService.cs:line 19
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 1/3/2012 4:19:13 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-2-129700378472527561
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-2-129700378472527561
ProcessId: 5264
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:5084
Extended Properties: 
    ProcessId=5264
    LogicalOperationStack=
    ThreadId=19
    DateTime=2012-01-03T04:19:13.4349037Z
    Timestamp=11936586658
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0()
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName)
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 1/3/2012 4:24:25 AM
Message: HandlingInstanceID: e8827418-9c83-43cf-b5a5-edbcb66e8c21
An exception of type 'System.Data.SqlClient.SqlException' occurred and was caught.
----------------------------------------------------------------------------------
01/03/2012 12:24:25
Type : System.Data.SqlClient.SqlException, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089
Message : Failed to generate a user instance of SQL Server due to failure in retrieving the user's local application data path. Please make sure the user has a local user profile on the computer. The connection will be closed.
Source : .Net SqlClient Data Provider
Help link : 
Errors : System.Data.SqlClient.SqlErrorCollection
Class : 14
LineNumber : 65536
Number : 15382
Procedure : 
Server : .\SQLEXPRESS
State : 1
ErrorCode : -2146232060
Data : System.Collections.ListDictionaryInternal
TargetSite : Void OnError(System.Data.SqlClient.SqlException, Boolean)
Stack Trace :    at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning()
   at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at System.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at System.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, SqlConnection owningObject)
   at System.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, Boolean redirectedUserInstance, SqlConnection owningObject, SqlConnectionString connectionOptions, TimeoutTimer timeout)
   at System.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(SqlConnection owningObject, TimeoutTimer timeout, SqlConnectionString connectionOptions, String newPassword, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, String newPassword, SqlConnection owningObject, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnection owningConnection, DbConnectionPool pool, DbConnectionOptions options)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory)
   at System.Data.SqlClient.SqlConnection.Open()
   at Artech.VideoMall.Common.DbHelper.ExecuteReader(String procedure, Object[] parameters) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\BaseClasses\DbHelper.cs:line 112
   at Artech.VideoMall.Products.DataAccess.ProductsDA.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Products\DataAccess\ProductsDA.cs:line 13
   at Artech.VideoMall.Products.BusinessComponent.ProductsBC.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Products\BusinessComponent\ProductsBC.cs:line 19
   at Artech.VideoMall.Products.Service.ProductsService.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Services\Products\Service\ProductsService.cs:line 20
   at SyncInvokeGetAllMovies(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 1/3/2012 4:24:25 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-5-129700381648952405
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-5-129700381648952405
ProcessId: 5264
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:3248
Extended Properties: HelpLink.ProdName - Microsoft SQL Server
HelpLink.EvtSrc - MSSQLServer
HelpLink.EvtID - 15382
HelpLink.BaseHelpUrl - http://go.microsoft.com/fwlink
HelpLink.LinkId - 20476

    ProcessId=5264
    LogicalOperationStack=
    ThreadId=24
    DateTime=2012-01-03T04:24:25.0868667Z
    Timestamp=12786623940
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0()
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName)
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 1/3/2012 4:34:38 AM
Message: HandlingInstanceID: fc3af804-790b-438a-a0a9-0411a4da9cb2
An exception of type 'System.Data.SqlClient.SqlException' occurred and was caught.
----------------------------------------------------------------------------------
01/03/2012 12:34:37
Type : System.Data.SqlClient.SqlException, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089
Message : Failed to generate a user instance of SQL Server due to failure in retrieving the user's local application data path. Please make sure the user has a local user profile on the computer. The connection will be closed.
Source : .Net SqlClient Data Provider
Help link : 
Errors : System.Data.SqlClient.SqlErrorCollection
Class : 14
LineNumber : 65536
Number : 15382
Procedure : 
Server : .\SQLEXPRESS
State : 1
ErrorCode : -2146232060
Data : System.Collections.ListDictionaryInternal
TargetSite : Void OnError(System.Data.SqlClient.SqlException, Boolean)
Stack Trace :    at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning()
   at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at System.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at System.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, SqlConnection owningObject)
   at System.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, Boolean redirectedUserInstance, SqlConnection owningObject, SqlConnectionString connectionOptions, TimeoutTimer timeout)
   at System.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(SqlConnection owningObject, TimeoutTimer timeout, SqlConnectionString connectionOptions, String newPassword, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, String newPassword, SqlConnection owningObject, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnection owningConnection, DbConnectionPool pool, DbConnectionOptions options)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory)
   at System.Data.SqlClient.SqlConnection.Open()
   at Artech.VideoMall.Common.DbHelper.ExecuteReader(String procedure, Object[] parameters) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\BaseClasses\DbHelper.cs:line 112
   at Artech.VideoMall.Products.DataAccess.ProductsDA.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Products\DataAccess\ProductsDA.cs:line 13
   at Artech.VideoMall.Products.BusinessComponent.ProductsBC.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Products\BusinessComponent\ProductsBC.cs:line 19
   at Artech.VideoMall.Products.Service.ProductsService.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Services\Products\Service\ProductsService.cs:line 20
   at SyncInvokeGetAllMovies(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 1/3/2012 4:34:37 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-9-129700388685445014
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-9-129700388685445014
ProcessId: 5264
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:5872
Extended Properties: HelpLink.ProdName - Microsoft SQL Server
HelpLink.EvtSrc - MSSQLServer
HelpLink.EvtID - 15382
HelpLink.BaseHelpUrl - http://go.microsoft.com/fwlink
HelpLink.LinkId - 20476

    ProcessId=5264
    LogicalOperationStack=
    ThreadId=36
    DateTime=2012-01-03T04:34:38.0134136Z
    Timestamp=14458393544
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0()
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName)
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 1/3/2012 4:38:33 AM
Message: HandlingInstanceID: 1df8d44c-cc9f-43d0-a628-1584340a489f
An exception of type 'System.Data.SqlClient.SqlException' occurred and was caught.
----------------------------------------------------------------------------------
01/03/2012 12:38:33
Type : System.Data.SqlClient.SqlException, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089
Message : Failed to generate a user instance of SQL Server due to failure in retrieving the user's local application data path. Please make sure the user has a local user profile on the computer. The connection will be closed.
Source : .Net SqlClient Data Provider
Help link : 
Errors : System.Data.SqlClient.SqlErrorCollection
Class : 14
LineNumber : 65536
Number : 15382
Procedure : 
Server : .\SQLEXPRESS
State : 1
ErrorCode : -2146232060
Data : System.Collections.ListDictionaryInternal
TargetSite : Void OnError(System.Data.SqlClient.SqlException, Boolean)
Stack Trace :    at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning()
   at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at System.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at System.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, SqlConnection owningObject)
   at System.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, Boolean redirectedUserInstance, SqlConnection owningObject, SqlConnectionString connectionOptions, TimeoutTimer timeout)
   at System.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(SqlConnection owningObject, TimeoutTimer timeout, SqlConnectionString connectionOptions, String newPassword, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, String newPassword, SqlConnection owningObject, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnection owningConnection, DbConnectionPool pool, DbConnectionOptions options)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory)
   at System.Data.SqlClient.SqlConnection.Open()
   at Artech.VideoMall.Common.DbHelper.ExecuteReader(String procedure, Object[] parameters) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\BaseClasses\DbHelper.cs:line 112
   at Artech.VideoMall.Products.DataAccess.ProductsDA.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Products\DataAccess\ProductsDA.cs:line 13
   at Artech.VideoMall.Products.BusinessComponent.ProductsBC.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Products\BusinessComponent\ProductsBC.cs:line 19
   at Artech.VideoMall.Products.Service.ProductsService.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Services\Products\Service\ProductsService.cs:line 20
   at SyncInvokeGetAllMovies(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 1/3/2012 4:38:33 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-11-129700390730380689
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-11-129700390730380689
ProcessId: 5264
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:4772
Extended Properties: HelpLink.ProdName - Microsoft SQL Server
HelpLink.EvtSrc - MSSQLServer
HelpLink.EvtID - 15382
HelpLink.BaseHelpUrl - http://go.microsoft.com/fwlink
HelpLink.LinkId - 20476

    ProcessId=5264
    LogicalOperationStack=
    ThreadId=22
    DateTime=2012-01-03T04:38:33.1084293Z
    Timestamp=15099621224
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0()
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName)
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 1/3/2012 4:43:08 AM
Message: HandlingInstanceID: 216dd91d-02ec-4ad8-85ba-d373f563a09d
An exception of type 'System.Data.SqlClient.SqlException' occurred and was caught.
----------------------------------------------------------------------------------
01/03/2012 12:43:08
Type : System.Data.SqlClient.SqlException, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089
Message : Failed to generate a user instance of SQL Server due to failure in retrieving the user's local application data path. Please make sure the user has a local user profile on the computer. The connection will be closed.
Source : .Net SqlClient Data Provider
Help link : 
Errors : System.Data.SqlClient.SqlErrorCollection
Class : 14
LineNumber : 65536
Number : 15382
Procedure : 
Server : .\SQLEXPRESS
State : 1
ErrorCode : -2146232060
Data : System.Collections.ListDictionaryInternal
TargetSite : Void OnError(System.Data.SqlClient.SqlException, Boolean)
Stack Trace :    at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning()
   at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at System.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at System.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, SqlConnection owningObject)
   at System.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, Boolean redirectedUserInstance, SqlConnection owningObject, SqlConnectionString connectionOptions, TimeoutTimer timeout)
   at System.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(SqlConnection owningObject, TimeoutTimer timeout, SqlConnectionString connectionOptions, String newPassword, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, String newPassword, SqlConnection owningObject, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnection owningConnection, DbConnectionPool pool, DbConnectionOptions options)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory)
   at System.Data.SqlClient.SqlConnection.Open()
   at Artech.VideoMall.Common.DbHelper.ExecuteReader(String procedure, Object[] parameters) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\BaseClasses\DbHelper.cs:line 112
   at Artech.VideoMall.Products.DataAccess.ProductsDA.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Products\DataAccess\ProductsDA.cs:line 13
   at Artech.VideoMall.Products.BusinessComponent.ProductsBC.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Products\BusinessComponent\ProductsBC.cs:line 19
   at Artech.VideoMall.Products.Service.ProductsService.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Services\Products\Service\ProductsService.cs:line 20
   at SyncInvokeGetAllMovies(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 1/3/2012 4:43:08 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-11-129700390730380689
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-11-129700390730380689
ProcessId: 5264
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:5016
Extended Properties: HelpLink.ProdName - Microsoft SQL Server
HelpLink.EvtSrc - MSSQLServer
HelpLink.EvtID - 15382
HelpLink.BaseHelpUrl - http://go.microsoft.com/fwlink
HelpLink.LinkId - 20476

    ProcessId=5264
    LogicalOperationStack=
    ThreadId=10
    DateTime=2012-01-03T04:43:08.7215802Z
    Timestamp=15851362875
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0()
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName)
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 1/3/2012 4:43:30 AM
Message: HandlingInstanceID: 58328e19-0e2d-4820-ad4d-1a7b59da30a2
An exception of type 'System.Data.SqlClient.SqlException' occurred and was caught.
----------------------------------------------------------------------------------
01/03/2012 12:43:30
Type : System.Data.SqlClient.SqlException, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089
Message : Failed to generate a user instance of SQL Server due to failure in retrieving the user's local application data path. Please make sure the user has a local user profile on the computer. The connection will be closed.
Source : .Net SqlClient Data Provider
Help link : 
Errors : System.Data.SqlClient.SqlErrorCollection
Class : 14
LineNumber : 65536
Number : 15382
Procedure : 
Server : .\SQLEXPRESS
State : 1
ErrorCode : -2146232060
Data : System.Collections.ListDictionaryInternal
TargetSite : Void OnError(System.Data.SqlClient.SqlException, Boolean)
Stack Trace :    at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning()
   at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at System.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at System.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, SqlConnection owningObject)
   at System.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, Boolean redirectedUserInstance, SqlConnection owningObject, SqlConnectionString connectionOptions, TimeoutTimer timeout)
   at System.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(SqlConnection owningObject, TimeoutTimer timeout, SqlConnectionString connectionOptions, String newPassword, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, String newPassword, SqlConnection owningObject, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnection owningConnection, DbConnectionPool pool, DbConnectionOptions options)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory)
   at System.Data.SqlClient.SqlConnection.Open()
   at Artech.VideoMall.Common.DbHelper.ExecuteReader(String procedure, Object[] parameters) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\BaseClasses\DbHelper.cs:line 112
   at Artech.VideoMall.Products.DataAccess.ProductsDA.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Products\DataAccess\ProductsDA.cs:line 13
   at Artech.VideoMall.Products.BusinessComponent.ProductsBC.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Products\BusinessComponent\ProductsBC.cs:line 19
   at Artech.VideoMall.Products.Service.ProductsService.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Services\Products\Service\ProductsService.cs:line 20
   at SyncInvokeGetAllMovies(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 1/3/2012 4:43:30 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-11-129700390730380689
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-11-129700390730380689
ProcessId: 5264
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:5780
Extended Properties: HelpLink.ProdName - Microsoft SQL Server
HelpLink.EvtSrc - MSSQLServer
HelpLink.EvtID - 15382
HelpLink.BaseHelpUrl - http://go.microsoft.com/fwlink
HelpLink.LinkId - 20476

    ProcessId=5264
    LogicalOperationStack=
    ThreadId=6
    DateTime=2012-01-03T04:43:30.7028002Z
    Timestamp=15911317287
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0()
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName)
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 1/3/2012 4:52:41 AM
Message: HandlingInstanceID: 7d757893-4a14-4358-88c3-db64aca63267
An exception of type 'System.Data.SqlClient.SqlException' occurred and was caught.
----------------------------------------------------------------------------------
01/03/2012 12:52:41
Type : System.Data.SqlClient.SqlException, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089
Message : Failed to generate a user instance of SQL Server due to failure in retrieving the user's local application data path. Please make sure the user has a local user profile on the computer. The connection will be closed.
Source : .Net SqlClient Data Provider
Help link : 
Errors : System.Data.SqlClient.SqlErrorCollection
Class : 14
LineNumber : 65536
Number : 15382
Procedure : 
Server : .\SQLEXPRESS
State : 1
ErrorCode : -2146232060
Data : System.Collections.ListDictionaryInternal
TargetSite : Void OnError(System.Data.SqlClient.SqlException, Boolean)
Stack Trace :    at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning()
   at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at System.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at System.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, SqlConnection owningObject)
   at System.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, Boolean redirectedUserInstance, SqlConnection owningObject, SqlConnectionString connectionOptions, TimeoutTimer timeout)
   at System.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(SqlConnection owningObject, TimeoutTimer timeout, SqlConnectionString connectionOptions, String newPassword, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, String newPassword, SqlConnection owningObject, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnection owningConnection, DbConnectionPool pool, DbConnectionOptions options)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory)
   at System.Data.SqlClient.SqlConnection.Open()
   at Artech.VideoMall.Common.DbHelper.ExecuteReader(String procedure, Object[] parameters) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\BaseClasses\DbHelper.cs:line 112
   at Artech.VideoMall.Products.DataAccess.ProductsDA.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Products\DataAccess\ProductsDA.cs:line 13
   at Artech.VideoMall.Products.BusinessComponent.ProductsBC.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Products\BusinessComponent\ProductsBC.cs:line 19
   at Artech.VideoMall.Products.Service.ProductsService.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Services\Products\Service\ProductsService.cs:line 20
   at SyncInvokeGetAllMovies(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 1/3/2012 4:52:41 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-11-129700390730380689
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-11-129700390730380689
ProcessId: 5264
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:2528
Extended Properties: HelpLink.ProdName - Microsoft SQL Server
HelpLink.EvtSrc - MSSQLServer
HelpLink.EvtID - 15382
HelpLink.BaseHelpUrl - http://go.microsoft.com/fwlink
HelpLink.LinkId - 20476

    ProcessId=5264
    LogicalOperationStack=
    ThreadId=45
    DateTime=2012-01-03T04:52:41.3156737Z
    Timestamp=17413124137
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0()
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName)
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 1/3/2012 4:56:46 AM
Message: HandlingInstanceID: aa74b77f-8cce-46b4-b8c0-4323dafedce4
An exception of type 'System.Data.SqlClient.SqlException' occurred and was caught.
----------------------------------------------------------------------------------
01/03/2012 12:56:46
Type : System.Data.SqlClient.SqlException, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089
Message : Cannot open database "E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\SAMPLES\VIDEOMALL\SERVICES\APP_DATA\ASPNETDB.MDF" requested by the login. The login failed.
Login failed for user 'IIS APPPOOL\DefaultAppPool'.
Source : .Net SqlClient Data Provider
Help link : 
Errors : System.Data.SqlClient.SqlErrorCollection
Class : 11
LineNumber : 65536
Number : 4060
Procedure : 
Server : .\sqlexpress
State : 1
ErrorCode : -2146232060
Data : System.Collections.ListDictionaryInternal
TargetSite : Void OnError(System.Data.SqlClient.SqlException, Boolean)
Stack Trace :    at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning()
   at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at System.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at System.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, SqlConnection owningObject)
   at System.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, Boolean redirectedUserInstance, SqlConnection owningObject, SqlConnectionString connectionOptions, TimeoutTimer timeout)
   at System.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(SqlConnection owningObject, TimeoutTimer timeout, SqlConnectionString connectionOptions, String newPassword, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, String newPassword, SqlConnection owningObject, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnection owningConnection, DbConnectionPool pool, DbConnectionOptions options)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory)
   at System.Data.SqlClient.SqlConnection.Open()
   at Artech.VideoMall.Common.DbHelper.ExecuteReader(String procedure, Object[] parameters) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\BaseClasses\DbHelper.cs:line 112
   at Artech.VideoMall.Products.DataAccess.ProductsDA.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Products\DataAccess\ProductsDA.cs:line 13
   at Artech.VideoMall.Products.BusinessComponent.ProductsBC.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Products\BusinessComponent\ProductsBC.cs:line 19
   at Artech.VideoMall.Products.Service.ProductsService.GetAllMovies() in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Services\Products\Service\ProductsService.cs:line 20
   at SyncInvokeGetAllMovies(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 1/3/2012 4:56:46 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-15-129700401989924556
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-15-129700401989924556
ProcessId: 5264
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:6100
Extended Properties: HelpLink.ProdName - Microsoft SQL Server
HelpLink.EvtSrc - MSSQLServer
HelpLink.EvtID - 4060
HelpLink.BaseHelpUrl - http://go.microsoft.com/fwlink
HelpLink.LinkId - 20476

    ProcessId=5264
    LogicalOperationStack=
    ThreadId=35
    DateTime=2012-01-03T04:56:46.3586527Z
    Timestamp=18081503161
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0()
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName)
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
----------------------------------------
Exception Error: 100 : Timestamp: 1/3/2012 4:57:58 AM
Message: HandlingInstanceID: 8bf133f6-6995-4900-871a-6873f168734f
An exception of type 'Artech.VideoMall.Orders.BusinessEntity.OrdersException' occurred and was caught.
------------------------------------------------------------------------------------------------------
01/03/2012 12:57:58
Type : Artech.VideoMall.Orders.BusinessEntity.OrdersException, Artech.VideoMall.Orders.BusinessEntity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
Message : 库存不足[ID:02E2DE63-4B1C-4510-A997-0AA9A2E4621D]
Source : Artech.VideoMall.Orders.BusinessComponent
Help link : 
Data : System.Collections.ListDictionaryInternal
TargetSite : Void ValidateStock(Artech.VideoMall.Orders.BusinessEntity.Order)
Stack Trace :    at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.ValidateStock(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 26
   at Artech.VideoMall.Orders.BusinessComponent.OrdersBC.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Modules\Orders\BusinessComponent\OrdersBC.cs:line 17
   at Artech.VideoMall.Orders.Service.OrdersService.Submit(Order order) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Services\Orders\Service\OrdersService.cs:line 19
   at SyncInvokeSubmit(Object , Object[] , Object[] )
   at System.ServiceModel.Dispatcher.SyncMethodInvoker.Invoke(Object instance, Object[] inputs, Object[]& outputs)
   at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)

Additional Info:

MachineName : NCS-SZ-JINNAN
TimeStamp : 1/3/2012 4:57:58 AM
FullName : Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.414.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35
AppDomainName : /LM/W3SVC/1/ROOT/VMServices-17-129700402522712187
ThreadIdentity : 
WindowsIdentity : IIS APPPOOL\DefaultAppPool

Category: Exception
Priority: 0
EventId: 100
Severity: Error
Title:Enterprise Library Exception Handling
Machine: NCS-SZ-JINNAN
App Domain: /LM/W3SVC/1/ROOT/VMServices-17-129700402522712187
ProcessId: 5264
Process Name: c:\windows\system32\inetsrv\w3wp.exe
Thread Name: 
Win32 ThreadId:5960
Extended Properties: 
    ProcessId=5264
    LogicalOperationStack=
    ThreadId=46
    DateTime=2012-01-03T04:57:58.2059286Z
    Timestamp=18277449189
    Callstack=   at System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   at System.Environment.get_StackTrace()
   at System.Diagnostics.TraceEventCache.get_Callstack()
   at System.Diagnostics.TraceListener.WriteFooter(TraceEventCache eventCache)
   at System.Diagnostics.TraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedTextWriterTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.TraceListenerWrapper.TraceData(TraceEventCache eventCache, String source, TraceEventType eventType, Int32 id, Object data)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogSource.TraceData(TraceEventType eventType, Int32 id, LogEntry logEntry, TraceListenerFilter traceListenerFilter, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.ProcessLog(LogEntry log, TraceEventCache traceEventCache)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.<>c__DisplayClass1.<Write>b__0()
   at Microsoft.Practices.EnterpriseLibrary.Logging.LoggingUpdateCoordinator.ExecuteReadOperation(Action action)
   at Microsoft.Practices.EnterpriseLibrary.Logging.LogWriterImpl.Write(LogEntry log)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.WriteToLog(String logMessage, IDictionary exceptionData)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Logging.LoggingExceptionHandler.HandleException(Exception exception, Guid handlingInstanceId)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.ExecuteHandlerChain(Exception ex, Guid handlingInstanceID)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyEntry.Handle(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicyImpl.HandleException(Exception exceptionToHandle)
   at Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ExceptionPolicy.HandleException(Exception exceptionToHandle, String policyName)
   at Artech.VideoMall.Common.Extensions.ServiceErrorHandler.ProvideFault(Exception error, MessageVersion version, Message& fault) in E:\WCF技术剖析\WCF技术剖析（卷1）（修订版）\Samples\Chapter 10\VideoMall\Common\Exception Handling\ServiceErrorHandler.cs:line 34
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideFault(Exception e, FaultConverter faultConverter, ErrorHandlerFaultInfo& faultInfo)
   at System.ServiceModel.Dispatcher.ErrorBehavior.ProvideMessageFaultCore(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage8(MessageRpc& rpc)
   at System.ServiceModel.Dispatcher.MessageRpc.ProcessError(Exception e)
   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)
   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)
   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)
   at System.ServiceModel.Dispatcher.ChannelHandler.OnContinueAsyncReceive(Object state)
   at System.Runtime.IOThreadScheduler.ScheduledOverlapped.IOCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Runtime.Fx.IOCompletionThunk.UnhandledExceptionFrame(UInt32 error, UInt32 bytesRead, NativeOverlapped* nativeOverlapped)
   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)
----------------------------------------
